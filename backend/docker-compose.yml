version: "3.9"
services:
  mysql:
    image: mysql:8.0
    container_name: campus_mysql
    restart: unless-stopped
    environment:
      MYSQL_ROOT_PASSWORD: ${MYSQL_ROOT_PASSWORD:-root}
      MYSQL_DATABASE: ${MYSQL_DATABASE:-campusMarket}
    ports: [ "3306:3306" ]
    volumes: [ "mysql_data:/var/lib/mysql" ]
    command: --default-authentication-plugin=mysql_native_password --character-set-server=utf8mb4 --collation-server=utf8mb4_0900_ai_ci
  adminer:
    image: adminer:4
    container_name: campus_adminer
    restart: unless-stopped
    ports: [ "8081:8080" ]
    environment: { ADMINER_DEFAULT_SERVER: mysql }
    depends_on: [ mysql ]
volumes: { mysql_data: {} }
